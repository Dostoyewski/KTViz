<!DOCTYPE html>
<html>
<head>
    {% load static %}
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="{% static 'css/materialize.min.css' %}" media="screen,projection"/>
    <title>ASTS Inc.</title>
    <link rel="icon" href="{% static 'images/icon.ico' %}">
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', {'packages': ['corechart']});
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
            var data = google.visualization.arrayToDataTable([
                ['Year', 'Sales', 'Expenses'],
                ['2013', 1000, 400],
                ['2014', 1170, 460],
                ['2015', 660, 1120],
                ['2016', 1030, 540]
            ]);

            var options = {
                title: 'Company Performance',
                hAxis: {title: 'Year', titleTextStyle: {color: '#333'}},
                vAxis: {minValue: 0},
                width: 1700,
                height: 700
            };

            var chart = new google.visualization.AreaChart(document.getElementById('chart_div'));
            chart.draw(data, options);
        }
    </script>
</head>

<body>
<ul class="collapsible expandable">
    {% for rec in data %}
        <li>
            <div class="collapsible-header"><i class="material-icons">place</i>{{ rec.date }}</div>
            <div class="collapsible-body">
                <span>Результаты тестирования</span>
                <div id="chart_div" style="width: 100%; height: 800px;"></div>
            </div>
        </li>
    {% endfor %}
</ul>


<script type="text/javascript" src="{% static 'js/materialize.min.js' %}"></script>
<script type="text/javascript">

    var elem = document.querySelector('.collapsible.expandable');
    var instance = M.Collapsible.init(elem, {
        accordion: false
    });
</script>
</body>
</html>